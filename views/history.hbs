
  <link rel="stylesheet" type="text/css" href="../css/history.css">
  

  <main>
    <section>
      <article class="row grid-choice">
        <div class="col-lg-4 col-sm-12 is-magrin-bot-15">
          <button class="grid-choice-item-active">Tất cả </button>  
        </div>
        <div class="col-lg-4 col-sm-6 is-magrin-bot-15">
          <button class="grid-choice-item">Đã hoàn tất </button>  
        </div>
        <div class="col-lg-4 col-sm-6 is-magrin-bot-15">
          <button class="grid-choice-item">Đang thực hiện </button>  
        </div>
      </article>
      
      {{#each order_details}}
      <article class="trip">
        <div class="trip-head">
          <p>Nhà xe: {{garage_infor.name}}</p>
        </div>
        <hr>
        <div class="info">
          <div><img src="../img/phuongtrang.jpg" alt="" class="logogarage"></div>
          <div style="padding: 0px">
            <div>Chuyến đi: {{trip_infor.name}}</div>
            <div>Ngày đi:  {{trip_infor.departure_date}}</div>
            <div>Số lượng:  {{number}}</div>
            <div>Giá: {{ticket_infor.price}}đ/vé</div>
            <div>Tổng thanh toán: <p class="money">{{total_price}}đ</p></div>
            {{!-- <div>Đánh giá của bạn:</div>
            <div class="rate">
              <input type="radio" id="star5" name="rate" value="5" />
              <label for="star5" title="text">5 stars</label>
              <input type="radio" id="star4" name="rate" value="4" />
              <label for="star4" title="text">4 stars</label>
              <input type="radio" id="star3" name="rate" value="3" />
              <label for="star3" title="text">3 stars</label>
              <input type="radio" id="star2" name="rate" value="2" />
              <label for="star2" title="text">2 stars</label>
              <input type="radio" id="star1" name="rate" value="1" />
              <label for="star1" title="text">1 star</label>
            </div> --}}
            <div class="status">
              <p style="font-style: italic; font-weight: bold">Tình trạng: {{order_status}} </p>
            </div>
          </div>
        </div>
        {{!-- <div>
          <textarea class="comment">Nhận xét của bạn:</textarea>
        </div> --}}
        {{#if (eq order_status "Đã hủy")}}
        {{else}}
        <hr>
        <form method="POST" action="" id="">
          <input name="ticket_id" value="{{ticket_infor._id}}" type="text" hidden="true">
          <input name="order_id" value="{{order_id}}" type="text" hidden="true">
          <button type="submit" 
          class="btn isOrange booking__btn ml-10 isfont20" style="margin: 0 0 1rem 15.5rem; color: white; font-weight: bold; border-radius: 10px" >
              Hủy đơn hàng
          </button>
        </form>
        {{/if}}
      </article>
      {{/each}}
    </section>
  </main>
<script>
  function changeChoice(e) {
    let text = e.target.textContent;
    let value = text == "Đang thực hiện " ? 0 : text == "Đã hoàn tất " ?1 : 2;
    let count = 0;
    trips.forEach(trip => {
      trip.className = "trip";
      if (count == value){
        trip.className = "trip-hidden";
      }
      ++count;
    });
    choices.forEach((c) => {
      c.className = "grid-choice-item";
    })
    e.target.className = "grid-choice-item-active";
  }
  var choices = document.querySelectorAll(".grid-choice button");
  choices.forEach(choice => choice.addEventListener("click", changeChoice));
  var trips = document.querySelectorAll("article.trip");

</script>